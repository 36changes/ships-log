(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{194:function(e,t,n){"use strict";n.r(t);n(518);var r=n(1),o=n.n(r),a=n(193),i=n.n(a),c=n(83),u=n(24),s=n.n(u),l=n(66),f=n.n(l),p=n(3);var m="undefined"!==typeof web3?window.web3.currentProvider:new p.providers.HttpProvider("https://mainnet.infura.io"),d=new p(m);function y(e){return(y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==y(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,w(t).apply(this,arguments))}var n,r,a;return n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.account,n=e.showImage,r=t.user?t.user.username:null,a=t.address,i=r||a.substring(2,8).toUpperCase();return o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat("https://opensea.io","/accounts/").concat(a)},n&&t?o.a.createElement("div",{style:{backgroundImage:'url("'+t.image+'")'}}):null,o.a.createElement("span",null,i))}}])&&h(n.prototype,r),a&&h(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");b(e.prototype,t&&t.prototype),t&&b(e,t)}(t,e),t}(o.a.Component),E=n(39),k=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  min-width: 200px;\n  img {\n    display: block;\n    height: 120px;\n    max-width: 100%;\n  }\n"]);function O(e){return(O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e,t){try{var n=a[e](t),i=n.value}catch(e){return void o(e)}n.done?r(i):Promise.resolve(i).then(c,u)}function c(e){i("next",e)}function u(e){i("throw",e)}c()})}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return!t||"object"!==O(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var P=c.a.div.attrs({className:"card mx-2 mb-4"})(k),A=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return j(r,(n=r=j(this,(e=N(t)).call.apply(e,[this].concat(a))),r.state={errorMessage:null},n))}var n,r,a;return n=t,(r=[{key:"renderBuyButton",value:function(){var e=this,t=this.props.accountAddress,n=this.props.order.currentPrice,r=d.fromWei(n).toFixed(3),a=function(){var n=_(s.a.mark(function n(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.props.seaport.fulfillOrder({order:e.props.order,accountAddress:t});case 2:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}();return o.a.createElement("button",{onClick:a,className:"btn btn-primary w-100"},"Buy for \u039e",r)}},{key:"renderAcceptOfferButton",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.props.accountAddress,r=this.props.order.currentPrice,a=d.fromWei(r).toFixed(3),i=t?"btn-success":"btn-warning",c=function(){var r=_(s.a.mark(function r(){return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=3;break}return e.setState({errorMessage:"You do not own this asset!"}),r.abrupt("return");case 3:return r.next=5,e.props.seaport.fulfillOrder({order:e.props.order,accountAddress:n});case 5:case"end":return r.stop()}},r,this)}));return function(){return r.apply(this,arguments)}}();return o.a.createElement("button",{onClick:c,className:"btn ".concat(i," w-100")},"Sell for \u039e",a)}},{key:"renderExpirationBadge",value:function(){var e=parseFloat(this.props.order.expirationTime);if(e<=0)return null;var t=f.a.duration(f.a.unix(e).diff(f()()));return o.a.createElement("span",{className:"badge bid-expiry-badge red"},o.a.createElement("i",{className:"tiny material-icons"},"timer"),o.a.createElement("span",{className:"expire-label"},"Expires in "),t.humanize())}},{key:"render",value:function(){var e=this.state.errorMessage,t=this.props,n=t.order,r=t.accountAddress,a=n.makerAccount,i=n.listingTime,c=n.asset,u=1e3*i.toNumber(),s=f()(u).local().fromNow(),l=r&&r.toLowerCase()===c.owner.address.toLowerCase();return o.a.createElement(P,null,o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"d-inline-block m-100",href:c.openseaLink},o.a.createElement("img",{className:"mx-auto",alt:"Asset artwork",src:c.imageUrl})),o.a.createElement("div",{className:"card-body h-25"},o.a.createElement("h5",{className:"card-title"},c.name),o.a.createElement("p",{className:"card-text text-truncate"},o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:c.openseaLink,className:"card-link"},c.assetContract.name," #",c.tokenId))),o.a.createElement("ul",{className:"list-group list-group-flush"},o.a.createElement("li",{className:"list-group-item"},"Offered by ",o.a.createElement(g,{account:a})),e?o.a.createElement("div",{className:"alert alert-warning mb-0",role:"alert"},e):o.a.createElement("li",{className:"list-group-item"},n.side===E.OrderSide.Buy?l?this.renderAcceptOfferButton():this.renderAcceptOfferButton(!1):null,l||n.side!==E.OrderSide.Sell?null:this.renderBuyButton())),o.a.createElement("div",{className:"card-footer"},o.a.createElement("small",{className:"text-muted"},"Posted ",s)))}}])&&S(n.prototype,r),a&&S(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");x(e.prototype,t&&t.prototype),t&&x(e,t)}(t,e),t}(o.a.Component);function C(e){return(C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return!t||"object"!==C(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var z=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return L(r,(n=r=L(this,(e=M(t)).call.apply(e,[this].concat(a))),r.state={orders:[],total:0,page:1},n))}var n,r,a,i,c;return n=t,(r=[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:(i=s.a.mark(function e(){var t,n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.seaport.api.getOrders({asset_contract_address:"0xf766b3e7073f5a6483e27de20ea6f59b30b28f87"},this.state.page);case 2:t=e.sent,n=t.orders,r=t.count,this.setState({orders:n,total:r});case 6:case"end":return e.stop()}},e,this)}),c=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=i.apply(e,t);function a(e,t){try{var a=o[e](t),i=a.value}catch(e){return void r(e)}a.done?n(i):Promise.resolve(i).then(c,u)}function c(e){a("next",e)}function u(e){a("throw",e)}c()})},function(){return c.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state.orders;return o.a.createElement("div",{className:"container py-3"},o.a.createElement("div",{className:"card-deck"},t.length>0?t.map(function(t,n){return o.a.createElement(A,Object.assign({},e.props,{key:n,order:t}))}):o.a.createElement("div",{className:"text-center"},"Loading...")))}}])&&T(n.prototype,r),a&&T(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");B(e.prototype,t&&t.prototype),t&&B(e,t)}(t,e),t}(o.a.Component),D=n(107),I=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  border-bottom: 1px solid lightgrey;\n  padding: 10px;\n  text-align: center;\n  background-color: #f4f9fd;\n"]);function R(e){return(R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return!t||"object"!==R(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var H=c.a.header(I),Y=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=U(this,W(t).call(this,e))).state={accountAddress:null},n.seaport=new D.OpenSeaPort(m,{network:D.Network.Main}),n.web3=n.seaport.web3,n}var n,r,a;return n=t,(r=[{key:"componentDidMount",value:function(){var e=this;this.accountAddress=this.web3.eth.getAccounts(function(t,n){e.setState({accountAddress:n[0]})})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(H,null,o.a.createElement("h1",null,"The Ship's Log"),o.a.createElement("h6",null,"OpenSea.js example dapp")),o.a.createElement("main",null,o.a.createElement(z,{seaport:this.seaport,accountAddress:this.state.accountAddress})))}}])&&J(n.prototype,r),a&&J(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");F(e.prototype,t&&t.prototype),t&&F(e,t)}(t,e),t}(o.a.Component);n(196);i.a.render(o.a.createElement(Y,null),document.getElementById("root"))},196:function(e,t,n){},378:function(e,t){},382:function(e,t){},461:function(e,t){},463:function(e,t){},524:function(e,t,n){n(523),e.exports=n(194)}},[[524,0,1]]]);
//# sourceMappingURL=main.30961c34.chunk.js.map